@using ITGWebTimeSheet2.Models
@model IEnumerable<ITGWebTimeSheet2.Models.TaskManModule>


<table class="table table-hover table-bordered" id="taskmantable">
    <thead style="background-color: #002080;color:white;">
        <tr>

            <th style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white; width:30px">
                <a href="#" class="add_fields3" style="margin-top:25px;"><i class="fas fa-plus-circle"></i></a>
            </th>
            <th style="border: 1px solid #dee2e6; width:100px;">
                <div style="float:left;">
                    Customer
                </div>
            </th>

            <th style="width:100px;">
                <div style="float:left;">
                    Project
                </div>

            </th>
            <th style="width:500px;">Task</th>
            <th>Comments</th>
            <th style="width:80px;">Date</th>
            <th style="width:80px;">Hours</th>

        </tr>

    </thead>
    <tbody id="wrapper4">

        @foreach (var item in Model)
        {
            <tr class="record" id="row_@Html.DisplayFor(modelItem => item.id)">
                <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                    <a href="#" id="toogle_@Html.DisplayFor(modelItem => item.id)" class="dplay" style="margin-top:25px;"><i id="drop_@Html.DisplayFor(modelItem => item.id)" class="fas fa-play"></i></a>


                    <a href="#" id="d_@Html.DisplayFor(modelItem => item.id)" style="display:none" class="down_arrow"><i class="fas fa-sort-down fa-2x" style="color:#5fac11;"></i></a>
                    <input type="hidden" id="taskid_@Html.DisplayFor(modelItem => item.id)" value="@Html.DisplayFor(modelItem => item.taskid)" />
                </td>
                <td style="border: 1px solid #dee2e6;" id="tdcust_@Html.DisplayFor(modelItem => item.id)" class="tdnote">
                    <span id="custtask_@Html.DisplayFor(modelItem => item.id)" class="task_input2">
                        @if (ViewData["CustomerList"] != null)
                        {
                            foreach (var item1 in ViewData["CustomerList"] as IList<CustomersModule>)
                            {
                                if (item.cust == item1.id)
                                {
                                    @:@item1.code
                                }
                            }
                        }
                    </span>
                    <input type="hidden" id="custid_@Html.DisplayFor(modelItem => item.id)" value="@item.cust" />

                </td>
                <td id="tdproj_@Html.DisplayFor(modelItem => item.id)" class="tdnote">
                    <span id="taskproj_@Html.DisplayFor(modelItem => item.id)" class="task_input2">

                        @if (ViewData["ProjectList"] != null)
                        {
                            foreach (var item1 in ViewData["ProjectList"] as IList<ProjectModule>)
                            {
                                if (item.proj == item1.id)
                                {
                                    @:@item1.code
                                }
                                if (Convert.ToString(item.proj) == "0")
                                {
                                    @:Please select
                                    break;
                                }
                            }
                        }


                    </span>
                    <input type="hidden" id="projid_@Html.DisplayFor(modelItem => item.id)" value="@item.proj" />
                </td>
                <td id="tdtask_@Html.DisplayFor(modelItem => item.id)" class="tdnote">

                    <span id="descriptiontask1_@Html.DisplayFor(modelItem => item.id)" class="task_input2">
                        @if (ViewData["TaskList"] != null)
                        {
                            foreach (var item9 in ViewData["TaskList"] as IList<TaskManModule>)
                            {
                                if (item.taskid == item9.id)
                                {
                                    @:@item9.description
                                }
                            }
                        }

                    </span>
                    <input type="hidden" id="taskid_@Html.DisplayFor(modelItem => item.id)" value="@item.taskid" />
                </td>
                <td id="tdnote_@Html.DisplayFor(modelItem => item.id)" class="tdnote">

                    <span id="notetask_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.notes)</span>
                    <span id="selnote_@Html.DisplayFor(modelItem => item.id)" class="sel_cust" style="display: none;">
                        <textarea id="notetask2_@Html.DisplayFor(modelItem => item.id)" class="autoExpand form-control task_input" rows="1" data-min-rows="1" placeholder="Add comments" name="description" maxlength="50">@Html.DisplayFor(modelItem => item.notes)</textarea>
                    </span>
                </td>
                <td id="tdstart_@Html.DisplayFor(modelItem => item.id)" class="tdnote">
                    <span id="taskstart_@Html.DisplayFor(modelItem => item.id)" class="task_input2"> @Convert.ToDateTime(item.ddate).ToString("MM/dd/yyyy")</span>
                    <span id="selstart_@Html.DisplayFor(modelItem => item.id)" class="sel_stat" style="display: none;">
                        <input id="starttask_@Html.DisplayFor(modelItem => item.id)" type="text" class="datepicker99 task_input" value="@Convert.ToDateTime(item.ddate).ToString("MM/dd/yyyy")" />
                    </span>
                </td>
                <td id="tdest_@Html.DisplayFor(modelItem => item.id)" class="tdnote">
                    <span id="taskest_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.acthours)</span>
                    <span id="selest_@Html.DisplayFor(modelItem => item.id)" class="sel_cust" style="display: none;">

                        <input id="esttask_@Html.DisplayFor(modelItem => item.id)" class="form-control task_input" type="text" value="@Html.DisplayFor(modelItem => item.acthours)" />
                    </span>
                </td>
              
            </tr>
            <tr style="background-color:#dee2e6" id="secondrow_@Html.DisplayFor(modelItem => item.id)" class="notShow hideall">
                <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                    <a href="#" id="remove_@Html.DisplayFor(modelItem => item.id)" class="remove_field2" style="margin-top:25px;display:none;position:relative;top: 62px;"><i class="fas fa-minus-circle"></i></a>
                </td>
                <td colspan="6">
                    <div class="row3">
                        <div style="position:relative;height:150px;border:solid 1px; padding: 10px 10px 10px 10px; " class="w-29">
                            <div style="float:left;" class="w-100">
                                <div style="float:left">
                                    Latest Status:<br />
                                    This is a dummy text statement
                                </div>
                                <div style="float:right">
                                    04/21/2020
                                </div>


                            </div>
                            <div style="position:absolute;bottom: 5px;font-size: 9px;right: 10px;">
                                <a href="#"><i class="fas fa-external-link-alt fa-2x"></i></a>
                            </div>
                        </div>
                        <div class="w-1">

                        </div>
                        <div style="background-color:white;position:relative;height:150px;border:solid 1px; padding: 10px 10px 10px 10px; " class="w-29">
                            <div style="float:left;" class="w-100">
                                <div class="td-main" style="float:left; display: block; width: 100%;">
                                    Subtasks:<br />
                                    <div class="gfg">
                                        <pre id="notetask3_@Html.DisplayFor(modelItem => item.id)" class="td-label">@Html.DisplayFor(modelItem => item.note)</pre>
                                    </div>
                                    <span id="selnote_@Html.DisplayFor(modelItem => item.id)" class="td-control" data-type="txt" data-field="notes" data-taskid="@Html.DisplayFor(modelItem => item.id)" style="display: none;">
                                        <textarea id="notetask2_@Html.DisplayFor(modelItem => item.id)" style=" display: block; width: 100%; height: 80%;" class="form-control td-txt" rows="4" data-min-rows="4" placeholder="description" name="description">@Html.DisplayFor(modelItem => item.note)</textarea>
                                    </span>
                                </div>
                                <div style="float:right">

                                </div>


                            </div>
                            <div style="position:absolute;bottom: 5px;font-size: 9px;right: 10px;">
                                <a href="#"><i class="fas fa-external-link-alt fa-2x"></i></a>
                            </div>
                        </div>
                        <div class="w-29">

                        </div>
                        <div class="w-1">

                        </div>

                        <div class="w-10">
                            <button type="button" class="btn btn-primary w-100" style="margin-bottom:5px;">History / Notes</button>
                            <button type="button" class="btn btn-primary w-100" style="margin-bottom:5px;">Files</button>
                            <button type="button" class="btn btn-primary w-100" style="margin-bottom:5px;">Images</button>

                        </div>

                    </div> <!-- end of row 3-->
                </td>
            </tr>
        }


    </tbody>
</table> <!-- end of table responsive  bootstrap table-->
